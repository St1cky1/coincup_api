# CoinCap API Client

Go-–∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API —Å–µ—Ä–≤–∏—Å–∞ [CoinCap](https://coincap.io/) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞—Ö.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–µ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Go 1.19 –∏–ª–∏ –≤—ã—à–µ
- API –∫–ª—é—á –æ—Ç CoinCap

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/Sticky1/coincup.api.git
cd coincup.api
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
1. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –Ω–∞ [CoinCap.io](https://coincap.io/)
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
API_KEY=–≤–∞—à_api_–∫–ª—é—á_–∑–¥–µ—Å—å
```

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```go
package main

import (
    coincap "coincap_api_client/coincap_client"
    "fmt"
    "log"
    "time"
)

func main() {
    // –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å —Ç–∞–π–º–∞—É—Ç–æ–º 10 —Å–µ–∫—É–Ω–¥
    client, err := coincap.NewClient(10 * time.Second)
    if err != nil {
        log.Fatal(err)
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
    assets, err := client.GetAssets()
    if err != nil {
        log.Fatal(err)
    }

    // –í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞—Ö
    for _, asset := range assets {
        fmt.Println(asset.Info())
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–µ
    bitcoin, err := client.GetAsset("bitcoin")
    if err != nil {
        log.Fatal(err)
    }
    fmt.Printf("–¶–µ–Ω–∞ Bitcoin: $%s\n", bitcoin.PriceUsd)
}
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
coincup.api/
‚îú‚îÄ‚îÄ coincap_client/
‚îÇ   ‚îú‚îÄ‚îÄ client.go          # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∏–µ–Ω—Ç –∏ –º–µ—Ç–æ–¥—ã API
‚îÇ   ‚îú‚îÄ‚îÄ responses.go       # –°—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ API
‚îÇ   ‚îî‚îÄ‚îÄ roundtrip.go       # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ main.go                # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ go.mod                 # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Go
‚îú‚îÄ‚îÄ go.sum                 # –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Å—É–º–º—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ .env                   # –§–∞–π–ª —Å API –∫–ª—é—á–æ–º (–Ω–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
‚îî‚îÄ‚îÄ .gitignore            # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
```

## üîë –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Asset
```go
type Asset struct {
    ID            string `json:"id"`
    Rank          string `json:"rank"`
    Symbol        string `json:"symbol"`
    Name          string `json:"name"`
    Supply        string `json:"supply"`
    MaxSupply     string `json:"maxSupply"`
    MarketCapUsd  string `json:"marketCapUsd"`
    VolumeUsd24Hr string `json:"volumeUsd24Hr"`
    PriceUsd      string `json:"priceUsd"`
}
```

## üõ† –ú–µ—Ç–æ–¥—ã API

### `GetAssets()`
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ –≤—Å–µ—Ö –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç.

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```
Id ~ bitcoin | Rank ~ 1 | Symbol ~ BTC | Name ~ Bitcoin | Supply ~ 19624143 | MaxSupply ~ 21000000 | MaketCapUsd ~ 1133726090024 | VolumeUsd24Hr ~ 16563596754 | PriceUsd ~ 57747.47
```

### `GetAsset(name string)`
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–µ –ø–æ –µ—ë ID.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```go
bitcoin, err := client.GetAsset("bitcoin")
ethereum, err := client.GetAsset("ethereum")
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –¢–∞–π–º–∞—É—Ç—ã
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–∞–π–º–∞—É—Ç:
```go
// –ö–ª–∏–µ–Ω—Ç —Å —Ç–∞–π–º–∞—É—Ç–æ–º 5 —Å–µ–∫—É–Ω–¥
client, err := coincap.NewClient(5 * time.Second)

// –ö–ª–∏–µ–Ω—Ç —Å —Ç–∞–π–º–∞—É—Ç–æ–º 30 —Å–µ–∫—É–Ω–¥  
client, err := coincap.NewClient(30 * time.Second)
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–ö–ª–∏–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Å–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
[Thu Oct 16 11:03:04 2025] GET https://rest.coincap.io/v3/assets/
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "API key not found"
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.env` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π API –∫–ª—é—á.

### –û—à–∏–±–∫–∞: "timeout can't be zero"
–£–∫–∞–∂–∏—Ç–µ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞.

### –û—à–∏–±–∫–∞: "file .env not find"
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å –≤–∞—à–∏–º API –∫–ª—é—á–æ–º.


## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [CoinCap API Documentation](https://docs.coincap.io/)
